//============================================================================
// Name        : Tutorial_plog.cpp
// Author      : Anderson Paschoalon
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <plog/Init.h>
#include <plog/Log.h>
#include <plog/Appenders/ColorConsoleAppender.h>
#include <plog/Appenders/RollingFileAppender.h>

using namespace std;


int main()
{
    static plog::RollingFileAppender<plog::CsvFormatter> fileAppender("MultiAppender.csv", 8000, 3); // Create the 1st appender.
    //static plog::ConsoleAppender<plog::TxtFormatter> consoleAppender; // Create the 2nd appender.
    static plog::ColorConsoleAppender<plog::TxtFormatter> colorConsoleAppender; // Create the 2nd appender.

    //plog::init(plog::debug, &fileAppender).addAppender(&consoleAppender); // Initialize the logger with the both appenders.
    plog::init(plog::debug, &fileAppender).addAppender(&colorConsoleAppender);

    // A bunch of log lines that goes to the both appenders: to the file and to the console.
    for (int i = 0; i < 100; ++i)
    {
        LOG_INFO << "i: " << i;
    }

    return 0;
}
