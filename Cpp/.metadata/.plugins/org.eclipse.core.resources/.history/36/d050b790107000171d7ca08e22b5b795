//============================================================================
// Name        : Tutorial_plog.cpp
// Author      : Anderson Paschoalon
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <plog/Init.h>
#include <plog/Log.h>
#include <plog/Appenders/ColorConsoleAppender.h>
#include <plog/Appenders/RollingFileAppender.h>

using namespace std;

int t_test_log()
{
	plog::RollingFileAppender<plog::CsvFormatter> fileAppender("MultiAppender.csv", 8000, 3);
	plog::ColorConsoleAppender<plog::TxtFormatter> colorConsoleAppender;
	plog::init(plog::debug, &colorConsoleAppender).addAppender(&fileAppender);

	cout << "testLog"
	LOG_WARNING << "@ t_test_log " << __PRETTY_FUNCTION__ << endl;

	return 0;
}


int main()
{
    plog::RollingFileAppender<plog::CsvFormatter> fileAppender("MultiAppender.csv", 8000, 3); // Create the 1st appender.
    //static plog::ConsoleAppender<plog::TxtFormatter> consoleAppender; // Create the 2nd appender.
    plog::ColorConsoleAppender<plog::TxtFormatter> colorConsoleAppender; // Create the 2nd appender.

    //plog::init(plog::debug, &fileAppender).addAppender(&consoleAppender); // Initialize the logger with the both appenders.
    //plog::init(plog::debug, &fileAppender).addAppender(&colorConsoleAppender);
    plog::init(plog::debug, &colorConsoleAppender).addAppender(&fileAppender);

    // A bunch of log lines that goes to the both appenders: to the file and to the console.
    int i = 0;
    for ( i = 0; i < 100; ++i)
    {
        LOG_WARNING << "i: " << i << __PRETTY_FUNCTION__;
    }

    t_test_log();


    return 0;
}
